# Connected Mobility Basics Assignment 3
This repository contains the working scripts for the assignment 3 of Connected Mobility Basics in the Winter Term 2023.

## Structure
The repository is structured as follows:

    ├── measurement_creation
    ├── measurements
    │   ├── ping
    │   └── traceroute
    ├── probes
    ├── results
    │   ├── ping
    │   └── trace
    ├── createMeasurements.py
    ├── handleMeasurements.py
    ├── helpScript.py
    └── plotting.py

We used four scripts for our measurement creation and data handling and plotting. Those are named accordingly. More detailed information to these scripts can be found below. 

The `measurement_creation` folder contains all data files that can be used and were used to start our measurements. This includes the list of all datacenters, the matching of probes to continent, and the matching of probes with different access technologies. It also includes the bash script (`measurements.sh`) that contains the RIPE API calls to start our measurements.

The `measurements` folder contains all data files that were generated by the PING and TRACEROUTE measurements. These data files can be used to create plots.

`Probes` contains the JSON files of all probes we used in our measurement. It also contains JSON files sorted by access technology. These files are used in the analysis and plotting.

The `results` folder contains all plotted graphs used for the documentation and analysis. They are organized by the test performed.

The `main` folder of the repository contains the python scripts that were used to fetch the data from RIPE and generate plots out of this data. The `helpScript.py` is an exception, as it was only used to calculate costs and resolve datacenter URLs to IPs.

## Scripts TODO:
Our results can be reproduced by executing the scripts given in the repository. The order of execution follows in general: `createMeasurements.py`, `handleMeasurements.py`, and `plotting.py`. We tried to include some comments and descriptions inside these scripts but want to cover the basic usage here as well.

In order to select probes from the list of all available probes we used:

    python3 createMeasurements.py -i probes/20230208.json -o measurement_creation/measurement.sh

This selects fitting probes from the supplied list of all available probes and write the commands to start the measurements into the given file. The second step then includes fetching the generated data from RIPE.

    python3 handleMeasurements.py -l -w

The third and last step is to convert the data into understandable plots. Because we generate very many different plots and kind of plots we want to list possible commands below.

    python3 plotting.py -i measurements/ping/ping.csv -o results/ping/plot.pdf
    python3 plotting.py -i measurements/traceroute/trace.csv -o results/trace/trace.pdf

## Reproducing the results
All measurements conducted should be publicly available on RIPE. We tagged all measurements with the tag `CMB Group 9 Part 2` to allow easy filtering for these. The `Part 2` has to do with us starting wrong measurements in the beginning which were tagged only `CMB Group 9` so the obvious name was already taken. To make the fetching of data easier, we also have the JSON of all relevant measurements sorted by test type in the `measurements/ping/ping_measures.json` and `measurements/traceroute/traceroute_measure.json` files.